# pytest.ini
[pytest]

# 테스트 발견 규칙
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 출력 스타일 & 실패 요약
addopts = -ra --strict-markers
console_output_style = progress

# 로그(콘솔 실시간 표출)
log_cli = true
log_cli_level = INFO
log_cli_format = [%(asctime)s] %(levelname)s %(name)s: %(message)s
log_cli_date_format = %H:%M:%S

# xfail이 지나치게 ‘성공’으로 처리되지 않도록
xfail_strict = true

# 탐색 제외 폴더
norecursedirs = .git .venv venv build dist node_modules

# 마커 정의(여기에 쓰는 마커만 허용됨: --strict-markers 때문)
markers =
    smoke: 빠르게 핵심 경로만 확인하는 스모크 테스트
    regression: 회귀 테스트 스위트
    e2e: 실제 사용자 흐름 E2E 테스트
    android: 안드로이드 전용 테스트
    login: 로그인 관련 테스트
    unstable: 간헐적 실패 가능(플레이크) 테스트
